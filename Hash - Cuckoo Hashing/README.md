# Кукушкино хеширование
**Алгоритм разрешения коллизий** значений хеш-функций в таблице **с постоянным временем** выборки в худшем случае.<br/>
В алгоритме предусматривается возможность выталкивания старого ключа при вставке нового.
<br/><br/>Основная идея кукушкиного хеширования заключается в разрешении коллизий путём использования двух хеш-функций вместо одной. Это обеспечивает два возможных положения в хеш-таблице для каждого ключа. <br/>
В одном из обычных вариантов алгоритма хеш-таблица разбивается на две меньшие таблицы меньшего размера и каждая хеш-функция даёт индекс в одну из этих двух таблиц.
Когда вставляется новый ключ и одна из двух ячеек пуста, ключ может быть помещён в эту ячейку. В случае же, когда обе ячейки заняты, необходимо переместить другие ключи в другие места (или, наоборот, на их прежние места), чтобы освободить место для нового ключа.
<br/><br/>Используется **жадный алгоритм** — ключ помещается в одну из возможных позиций, «выталкивая» любой ключ, который был в этой позиции. Вытолкнутый ключ затем помещается в его альтернативную позицию, снова выталкивая любой ключ, который мог там оказаться. Процесс продолжается, пока не найдётся пустая позиция.
<br/><br/>Возможен, однако, случай, когда процесс вставки заканчивается неудачей, попадая в **бесконечный цикл** или когда образуется слишком длинная цепочка (длиннее, чем заранее заданный **порог**, зависящий логарифмически от длины таблицы). В этом случае хеш-таблица перестраивается на месте с новыми хеш-функциями.
<br/><br/>Ожидаемое время вставки постоянно, даже если принимать во внимание возможную необходимость перестройки таблицы, пока число ключей меньше половины ёмкости хеш-таблицы, то есть **коэффициент загрузки меньше 50 %**.
<br/><br/>Чтобы обеспечить это, используется теория случайных графов
## Кукушкин граф
Вершинами являются ячейки хеш-таблицы, а рёбра для каждого хешируемого соединяют два возможных положения (ячейки хеш-таблицы). 
<br/><br/>Тогда жадный алгоритм вставки множества значений в кукушкину хеш-таблицу успешно завершается тогда и только тогда, когда кукушкин граф для этого множества значений является псевдолесом, графом максимум с одним циклом в каждой компоненте связности. 
<br/><br/>Если хеш-функция выбирается случайно, кукушкин граф будет случайным графом
<br/><br/>С высокой степенью вероятности для случайного графа, в котором отношение числа рёбер к числу вершин ограничено сверху 1/2, граф является псевдолесом и алгоритм кукушкиного хеширования располагает успешно все ключи.

## Универсальное семейство хеш-функций
Для работы кукушкиного хеширование необходимо менять хешфункции в случае зацикливания. <br/><br/>
Для удобства этого процесса в задаче была взята криптографическая хеш-функция BitHash, последовательных бинарных сдвигах символов в строках.
Для обновления хеш-функции достаточо заного сгенерировать случайный массив чисел.
